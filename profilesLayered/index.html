
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://devops.pingidentity.com/profilesLayered/">
      
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.6">
    
    
      
        <title>Layering server profiles - Ping Identity DevOps</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6910b76c.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.196e0c26.min.css">
        
          
          
          <meta name="theme-color" content="#4051b5">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../mkdocs/overrides/stylesheets/extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="blue">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#layering-server-profiles" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://devops.pingidentity.com/" title="Ping Identity DevOps" class="md-header-nav__button md-logo" aria-label="Ping Identity DevOps">
      <!-- Logo -->

  


    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Ping Identity DevOps
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Layering server profiles
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/pingidentity/pingidentity-devops-getting-started" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    pingidentity/pingidentity-devops-getting-started
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          

  

<nav class="md-tabs md-tabs--active" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
    
    <a href=".." class="md-tabs__link">
      DEVOPS @ PING
    </a>
  </li>

      
        
      
        
  
  
    <li class="md-tabs__item">
      
      
      <a href="../getStarted/" class="md-tabs__link">
        GET STARTED
      </a>
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
      
      <a href="../deploy/" class="md-tabs__link">
        WORKING WITH IMAGES
      </a>
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
      
        
      
      <a href="../config/" class="md-tabs__link md-tabs__link--active">
        CUSTOMIZING
      </a>
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
      
      <a href="../relnotes-2010/" class="md-tabs__link">
        RELEASE NOTES
      </a>
    </li>
  

      
        
      
        
      
        
      
        
      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://devops.pingidentity.com/" title="Ping Identity DevOps" class="md-nav__button md-logo" aria-label="Ping Identity DevOps">
      <!-- Logo -->

  


    </a>
    Ping Identity DevOps
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/pingidentity/pingidentity-devops-getting-started" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    pingidentity/pingidentity-devops-getting-started
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." class="md-nav__link">
      DEVOPS @ PING
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../overview/" class="md-nav__link">
      OVERVIEW
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" >
    <label class="md-nav__link" for="nav-3">
      GET STARTED
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="GET STARTED" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon"></span>
        GET STARTED
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../getStarted/" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../devopsRegistration/" class="md-nav__link">
      DevOps registration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../getStartedWithGitRepo/" class="md-nav__link">
      Deploy an example stack
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../PROD-LICENSE/" class="md-nav__link">
      DevOps product licenses
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../devopsUserKey/" class="md-nav__link">
      Using your DevOps user and key
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../existingLicense/" class="md-nav__link">
      Using an existing product license
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../saveConfigs/" class="md-nav__link">
      Saving your configuration changes
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" >
    <label class="md-nav__link" for="nav-4">
      WORKING WITH IMAGES
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="WORKING WITH IMAGES" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon"></span>
        WORKING WITH IMAGES
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../deploy/" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../buildLocal/" class="md-nav__link">
      Build a Docker product image locally
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deployStandalone/" class="md-nav__link">
      Deploy standalone containers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-4" type="checkbox" id="nav-4-4" >
    <label class="md-nav__link" for="nav-4-4">
      Orchestrate with Docker-Compose
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Orchestrate with Docker-Compose" data-md-level="2">
      <label class="md-nav__title" for="nav-4-4">
        <span class="md-nav__icon md-icon"></span>
        Orchestrate with Docker-Compose
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../deployCompose/" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deploySimpleStack/" class="md-nav__link">
      Deploy a PingFederate and PingDirectory stack
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deployReplication/" class="md-nav__link">
      Deploy a replicated PingDirectory pair
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deploySync/" class="md-nav__link">
      Deploy PingDirectory with data synchronization using PingDataSync
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deployPingCentral/" class="md-nav__link">
      Deploy PingCentral
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deployPfCluster/" class="md-nav__link">
      Deploy a PingFederate cluster
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deployPaCluster/" class="md-nav__link">
      Deploy a PingAccess cluster
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deployPdgPap/" class="md-nav__link">
      Deploy PingDataGovernance with PAP
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deployMonitoringStack/" class="md-nav__link">
      Deploy a monitoring stack
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deploySiemStack/" class="md-nav__link">
      Deploy an Elasticsearch SIEM stack
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-5" type="checkbox" id="nav-4-5" >
    <label class="md-nav__link" for="nav-4-5">
      Orchestrate with Kubernetes
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Orchestrate with Kubernetes" data-md-level="2">
      <label class="md-nav__title" for="nav-4-5">
        <span class="md-nav__icon md-icon"></span>
        Orchestrate with Kubernetes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../deployK8s/" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deployHelm/" class="md-nav__link">
      Deploy with PingIdentiy Helm Charts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deployK8sPD-clusters/" class="md-nav__link">
      PingDirectory deployments across Kubernetes clusters
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-5-4" type="checkbox" id="nav-4-5-4" >
    <label class="md-nav__link" for="nav-4-5-4">
      Kubernetes deployments for general use
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Kubernetes deployments for general use" data-md-level="3">
      <label class="md-nav__title" for="nav-4-5-4">
        <span class="md-nav__icon md-icon"></span>
        Kubernetes deployments for general use
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../deployK8sGeneral/" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deployK8sStandalone/" class="md-nav__link">
      Orchestrate standalone deployments
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deployK8sFullstack/" class="md-nav__link">
      Orchestrate a full stack deployment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deployK8sReplicated/" class="md-nav__link">
      Orchestrate a replicated PingDirectory deployment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deployK8sPA-cluster/" class="md-nav__link">
      Orchestrate a PingAccess cluster deployment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deployK8sPF-cluster/" class="md-nav__link">
      Orchestrate a PingFederate cluster deployment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-5-4-7" type="checkbox" id="nav-4-5-4-7" >
    <label class="md-nav__link" for="nav-4-5-4-7">
      Deploy PingFederate Across Multiple Kubernetes Clusters
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Deploy PingFederate Across Multiple Kubernetes Clusters" data-md-level="4">
      <label class="md-nav__title" for="nav-4-5-4-7">
        <span class="md-nav__icon md-icon"></span>
        Deploy PingFederate Across Multiple Kubernetes Clusters
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../deployK8sPFclusters/" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deployPFMultiRegionDNS/" class="md-nav__link">
      PingFederate Across Kubernetes with DNS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deployPFMultiRegionAWS/" class="md-nav__link">
      PingFederate Across Kubernetes with S3
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-5-5" type="checkbox" id="nav-4-5-5" >
    <label class="md-nav__link" for="nav-4-5-5">
      Kubernetes deployments for cloud platforms
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Kubernetes deployments for cloud platforms" data-md-level="3">
      <label class="md-nav__title" for="nav-4-5-5">
        <span class="md-nav__icon md-icon"></span>
        Kubernetes deployments for cloud platforms
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../deployK8sCloud/" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deployK8s-AWS/" class="md-nav__link">
      Deploy Peered EKS clusters
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deployK8s-AKS/" class="md-nav__link">
      Deploy to Azure Kubernetes Service
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../k8sClusterSizing/" class="md-nav__link">
      Sizing Kubernetes clusters
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deployVault/" class="md-nav__link">
      Deploy Hashicorp Vault
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" checked>
    <label class="md-nav__link" for="nav-5">
      CUSTOMIZING
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="CUSTOMIZING" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon"></span>
        CUSTOMIZING
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../config/" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5-2" type="checkbox" id="nav-5-2" checked>
    <label class="md-nav__link" for="nav-5-2">
      Server profile anatomy
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Server profile anatomy" data-md-level="2">
      <label class="md-nav__title" for="nav-5-2">
        <span class="md-nav__icon md-icon"></span>
        Server profile anatomy
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../containerAnatomy/" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../profileStructures/" class="md-nav__link">
      Server profile structures
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../profiles/" class="md-nav__link">
      Customizing server profiles
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../buildPingFederateProfile/" class="md-nav__link">
      Build Your Own PingFederate Profile
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Layering server profiles
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" class="md-nav__link md-nav__link--active">
      Layering server profiles
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisite" class="md-nav__link">
    Prerequisite
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-youll-do" class="md-nav__link">
    What you'll do
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-layered-server-profile" class="md-nav__link">
    Create a layered server profile
  </a>
  
    <nav class="md-nav" aria-label="Create a layered server profile">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-the-base-directories" class="md-nav__link">
    Create the base directories
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#construct-the-license-layer" class="md-nav__link">
    Construct the license layer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-the-extensions-layer" class="md-nav__link">
    Build the extensions layer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-the-oauth-layer" class="md-nav__link">
    Build the OAuth layer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#assign-the-environment-variables-for-the-deployment" class="md-nav__link">
    Assign the environment variables for the deployment
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy-the-layered-server-profile" class="md-nav__link">
    Deploy the layered server profile
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../profilesSubstitution/" class="md-nav__link">
      Environment substitution
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../privateRepos/" class="md-nav__link">
      Using private Github repositories
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../yamlFiles/" class="md-nav__link">
      Customizing YAML files
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../variableScoping/" class="md-nav__link">
      Variables and scope
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../usingCertificates/" class="md-nav__link">
      Using Certificates
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../hooks/" class="md-nav__link">
      Using DevOps hooks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../releaseTags/" class="md-nav__link">
      Using release tags
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../imageSupport/" class="md-nav__link">
      Using supported images
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../usingVault/" class="md-nav__link">
      Using Hashicorp Vault
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../secureContainers/" class="md-nav__link">
      Securing the containers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dockerImageSecurity/" class="md-nav__link">
      Evaluation of Docker base image security
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../addMOTD/" class="md-nav__link">
      Adding a message of the day (MOTD)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5-13" type="checkbox" id="nav-5-13" >
    <label class="md-nav__link" for="nav-5-13">
      Managing deployments
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Managing deployments" data-md-level="2">
      <label class="md-nav__title" for="nav-5-13">
        <span class="md-nav__icon md-icon"></span>
        Managing deployments
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../manage/" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../upgradePingfederate/" class="md-nav__link">
      Upgrading PingFederate
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../upgradePingDirectory/" class="md-nav__link">
      Upgrading PingDirectory
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5-14" type="checkbox" id="nav-5-14" >
    <label class="md-nav__link" for="nav-5-14">
      Utilities
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Utilities" data-md-level="2">
      <label class="md-nav__title" for="nav-5-14">
        <span class="md-nav__icon md-icon"></span>
        Utilities
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../devopsUtils/" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pingDevopsUtil/" class="md-nav__link">
      The `ping-devops` utility
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ldapsdkUtil/" class="md-nav__link">
      The `ldap-sdk-tools` utility
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../troubleshooting/" class="md-nav__link">
      Troubleshooting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5-16" type="checkbox" id="nav-5-16" >
    <label class="md-nav__link" for="nav-5-16">
      Docker images reference
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Docker images reference" data-md-level="2">
      <label class="md-nav__title" for="nav-5-16">
        <span class="md-nav__icon md-icon"></span>
        Docker images reference
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../dockerImagesRef/" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../docker-images/pingfederate/" class="md-nav__link">
      PingFederate
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../docker-images/pingaccess/" class="md-nav__link">
      PingAccess
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../docker-images/pingdirectory/" class="md-nav__link">
      PingDirectory
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../docker-images/pingdirectoryproxy/" class="md-nav__link">
      PingDirectoryProxy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../docker-images/pingdatagovernance/" class="md-nav__link">
      PingDataGovernance
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../docker-images/pingdatagovernancepap/" class="md-nav__link">
      PingDataGovernance PAP
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../docker-images/pingdatasync/" class="md-nav__link">
      PingDataSync
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../docker-images/pingdelegator/" class="md-nav__link">
      PingDelegator
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../docker-images/pingcentral/" class="md-nav__link">
      PingCentral
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../docker-images/pingintelligence/" class="md-nav__link">
      PingIntelligence
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../docker-images/ldap-sdk-tools/" class="md-nav__link">
      ldap-sdk-tools
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../docker-images/pingdataconsole/" class="md-nav__link">
      Ping Data Console
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../docker-images/pingdownloader/" class="md-nav__link">
      PingDownloader
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../docker-images/pingbase/" class="md-nav__link">
      PingBase
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../docker-images/pingcommon/" class="md-nav__link">
      PingCommon
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../docker-images/pingdatacommon/" class="md-nav__link">
      PingDataCommon
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../docker-images/apache-jmeter/" class="md-nav__link">
      Apache JMeter
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" >
    <label class="md-nav__link" for="nav-6">
      RELEASE NOTES
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="RELEASE NOTES" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon"></span>
        RELEASE NOTES
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../relnotes-2010/" class="md-nav__link">
      Current
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../relnotes-2009/" class="md-nav__link">
      Version 2009
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../relnotes-2008/" class="md-nav__link">
      Version 2008
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../relnotes-2007/" class="md-nav__link">
      Version 2007
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../relnotes-2006/" class="md-nav__link">
      Version 2006
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../relnotes-2005/" class="md-nav__link">
      Version 2005
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../relnotes-2004/" class="md-nav__link">
      Version 2004
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../relnotes-2003/" class="md-nav__link">
      Version 2003
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../LICENSE/" class="md-nav__link">
      LICENSE
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../DISCLAIMER.md" class="md-nav__link">
      DISCLAIMER
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../3RD_PARTY_SOFTWARE/" class="md-nav__link">
      THIRD-PARTY SOFTWARE
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../CONTRIBUTING/" class="md-nav__link">
      CONTRIBUTING
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisite" class="md-nav__link">
    Prerequisite
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-youll-do" class="md-nav__link">
    What you'll do
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-layered-server-profile" class="md-nav__link">
    Create a layered server profile
  </a>
  
    <nav class="md-nav" aria-label="Create a layered server profile">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-the-base-directories" class="md-nav__link">
    Create the base directories
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#construct-the-license-layer" class="md-nav__link">
    Construct the license layer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-the-extensions-layer" class="md-nav__link">
    Build the extensions layer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-the-oauth-layer" class="md-nav__link">
    Build the OAuth layer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#assign-the-environment-variables-for-the-deployment" class="md-nav__link">
    Assign the environment variables for the deployment
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy-the-layered-server-profile" class="md-nav__link">
    Deploy the layered server profile
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="layering-server-profiles">Layering server profiles<a class="headerlink" href="#layering-server-profiles" title="Permanent link"> ¶</a></h1>
<p>One of the benefits of our Docker images is the ability to layer product configuration. By using small discrete portions of your configuration, you can build and assemble a server profile based on multiple installations of a product.</p>
<p>A typical organization can have multiple installations of our products, each using different configurations. By layering the server profiles, you can reuse the configurations that are common across environments, leading to fewer configurations to manage.</p>
<p>You can have as many layers as needed. Each layer of the configuration is <em>copied</em> on top of the container's filesystem (not merged).</p>
<blockquote>
<p>The profile layers are applied starting at the top layer and ending at the base layer. This may not be apparent. In our examples, the base profile layer appears first in the <code>docker-compose.yaml</code> file. In these cases, it's a child-before-parent order of application.</p>
</blockquote>
<h2 id="prerequisite">Prerequisite<a class="headerlink" href="#prerequisite" title="Permanent link"> ¶</a></h2>
<ul>
<li>You've already been through <a href="../getStarted/">Get started</a> to set up your DevOps environment and run a test deployment of the products.</li>
</ul>
<h2 id="what-youll-do">What you'll do<a class="headerlink" href="#what-youll-do" title="Permanent link"> ¶</a></h2>
<ul>
<li>Create a layered server profile.</li>
<li>Assign the environment variables for the deployment.</li>
<li>Deploy the layered server profile.</li>
</ul>
<h2 id="create-a-layered-server-profile">Create a layered server profile<a class="headerlink" href="#create-a-layered-server-profile" title="Permanent link"> ¶</a></h2>
<p>We'll use PingFederate and our server profile located in the <a href="https://github.com/pingidentity/pingidentity-server-profiles/tree/master/getting-started/pingfederate">pingidentity-server-profiles</a> repository. We recommend you fork this repository to your Github repository, then pull your Github repository to to a local directory. When we've finished creating the layered profile, you can then push your updates the your Github repository, and reference your Github repository as an environment variable to run the deployment.</p>
<p>We'll create separate layers for:</p>
<ul>
<li>Product license</li>
<li>Extensions (such as, Integration Kits and Connectors)</li>
<li>OAuth Playground</li>
</ul>
<p>For this example, these layers will be applied on top of the PingFederate server profile. However, you can span configurations across multiple repositories if you want.</p>
<p>The complete working, layered server profile of the PingFederate example we're building here is in the <a href="https://github.com/pingidentity/pingidentity-server-profiles/tree/master/layered-profiles">pingidentity-server-profiles/layered-profiles</a> directory.</p>
<p>Because PingFederate's configuration is file-based, the layering works by copying configurations on top of the PingFederate container’s file system.</p>
<blockquote>
<p>Files are copied, not merged, when layering, so it is best practice to only layer items that won't be impacted by other configuration files.</p>
</blockquote>
<h3 id="create-the-base-directories">Create the base directories<a class="headerlink" href="#create-the-base-directories" title="Permanent link"> ¶</a></h3>
<ol>
<li>Create a working directory named <code>layered_profiles</code> and within that directory create <code>license</code>, <code>extensions</code>, and <code>oauth</code> directories. When completed your directory structure should be:
   <div class="highlight"><pre><span></span><code>└── layered_profiles
   ├── extensions
   ├── license
   └── oauth
</code></pre></div></li>
</ol>
<h3 id="construct-the-license-layer">Construct the license layer<a class="headerlink" href="#construct-the-license-layer" title="Permanent link"> ¶</a></h3>
<ol>
<li>Go to the <code>license</code> directory and create a <code>pingfederate</code> subdirectory.</li>
<li>The PingFederate license file resides in the <code>/instance/server/default/conf/</code> path. Create that directory path under the <code>pingfederate</code> directory. For example:
   <div class="highlight"><pre><span></span><code>mkdir -p instance/server/default/conf/
</code></pre></div></li>
</ol>
<p>Your license profile path should look like this:</p>
<div class="highlight"><pre><span></span><code>└── license
   └── pingfederate
       └── instance
           └── server
               └── default
                   └── conf
                       └── pingfederate.lic
</code></pre></div>
<ol>
<li>Copy your <code>pingfederate.lic</code> file to <code>license/pingfederate/instance/server/default/conf</code>. If you're using the DevOps evaluation license, when the PingFederate container is running, the license is located in the Docker file system's <code>/opt/in/instance/server/default/conf</code> directory. You can copy the <code>pingfederate.lic</code> file from the Docker file system using the syntax:
   <code>docker cp &lt;container&gt; &lt;source-location&gt; &lt;target-location&gt;</code></li>
</ol>
<p>For example:</p>
<div class="highlight"><pre><span></span><code>docker cp pingfederate /opt/in/instance/server/default/conf/pingfederate.lic <span class="si">${</span><span class="nv">HOME</span><span class="si">}</span>/projects/devops/layered_profiles/license/pingfederate/instance/server/default/conf
</code></pre></div>
<h3 id="build-the-extensions-layer">Build the extensions layer<a class="headerlink" href="#build-the-extensions-layer" title="Permanent link"> ¶</a></h3>
<ol>
<li>Go to the <code>layered-profiles/extensions</code> directory, and create a <code>pingfederate</code> subdirectory.</li>
<li>
<p>The PingFederate extensions reside in the <code>/instance/server/default/deploy</code> path. Create that directory path under the <code>pingfederate</code> directory. For example:
   <div class="highlight"><pre><span></span><code>mkdir -p instance/server/default/deploy
</code></pre></div></p>
</li>
<li>
<p>Copy to this directory (<code>layered-profiles/extensions/pingfederate/instance/server/default/deploy</code>) the extensions you want to be available to PingFederate.</p>
</li>
</ol>
<p>The extensions profile path should look similar to this (extensions will vary based on your requirements):</p>
<div class="highlight"><pre><span></span><code>└── extensions
    └── pingfederate
        └── instance
            └── server
                └── default
                    └── deploy
                        ├── pf-aws-quickconnection-2.0.jar
                        ├── pf-azure-ad-pcv-1.2.jar
                        └── pf-slack-quickconnection-3.0.jar
</code></pre></div>
<h3 id="build-the-oauth-layer">Build the OAuth layer<a class="headerlink" href="#build-the-oauth-layer" title="Permanent link"> ¶</a></h3>
<ol>
<li>Go to the <code>layered-profiles/oauth</code> directory, and create a <code>pingfederate</code> subdirectory.</li>
</ol>
<div class="highlight"><pre><span></span><code>mkdir -p instance/server/default/pingfederate
</code></pre></div>
<ol>
<li>OAuth Playground for PingFederate is also located in the <code>/instance/server/default/deploy</code> directory, like other extensions. For this example, we're building OAuth Playground into its own layer to show that it's optional for PingFederate deployments.</li>
<li>Copy the <code>OAuthPlayground.war</code> file to <code>layered-profiles/oauth/pingfederate/instance/server/default/deploy</code>.</li>
</ol>
<p>Your oauth profile layer should look like this:</p>
<div class="highlight"><pre><span></span><code>└── oauth
    └── pingfederate
        └── instance
            └── server
                └── default
                    └── deploy
                        └── OAuthPlayground.war
</code></pre></div>
<h2 id="assign-the-environment-variables-for-the-deployment">Assign the environment variables for the deployment<a class="headerlink" href="#assign-the-environment-variables-for-the-deployment" title="Permanent link"> ¶</a></h2>
<p>We'll assign the environment variables for use in a Docker Compose YAML file. However, you can use this technique with any Docker or Kubernetes deployment.</p>
<p>If you're intending on using your Github repository for the deployment, in the following examples, replace 
<code>SERVER_PROFILE_URL=https://github.com/pingidentity/pingidentity-server-profiles.git</code> </p>
<p>with</p>
<p><code>SERVER_PROFILE_URL=https://github.com/&lt;your-username&gt;/pingidentity-server-profiles.git</code></p>
<blockquote>
<p>If your GitHub server-profile repo is private, use the <code>username:token</code> format so the container can access the repository. For example, <code>https://github.com/&lt;your_username&gt;:&lt;your_access_token&gt;/pingidentity-server-profiles.git</code>. See <a href="../privateRepos/">Using private Github repositories</a> for more information.</p>
</blockquote>
<ol>
<li>Create a new <code>docker-compose.yaml</code> file.</li>
<li>Add your license profile to the YAML file. For example:</li>
</ol>
<p><div class="highlight"><pre><span></span><code> <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">SERVER_PROFILE_URL=https://github.com/pingidentity/pingidentity-server-profiles.git</span>
 <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">SERVER_PROFILE_PATH=layered-profiles/license/pingfederate</span>
</code></pre></div>
    <code>SERVER_PROFILE</code> supports <code>URL</code>, <code>PATH</code>, <code>BRANCH</code> and <code>PARENT</code> variables.</p>
<ol>
<li>Using <code>SERVER_PROFILE_PARENT</code>, we can instruct the container to retrieve its parent configuration. We'll specify the <code>extensions</code> profile as the parent:</li>
</ol>
<p><div class="highlight"><pre><span></span><code> <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">SERVER_PROFILE_PARENT=EXTENSIONS</span>
</code></pre></div>
   <code>SERVER_PROFILE</code> can be extended to reference additional profiles. Since we specified the license profile's parent as <code>EXTENSIONS</code>, we can extend <code>SERVER_PROFILE</code> by referencing the <code>EXTENSIONS</code> profile (prior to the <code>URL</code> and <code>PATH</code> variables):
    <div class="highlight"><pre><span></span><code> <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">SERVER_PROFILE_EXTENSIONS_URL=https://github.com/pingidentity/pingidentity-server-profiles.git</span>
 <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">SERVER_PROFILE_EXTENSIONS_PATH=layered-profiles/extensions/pingfederate</span>
</code></pre></div></p>
<ol>
<li>Set the <code>EXTENSIONS</code> parent to <code>OAUTH</code>:</li>
</ol>
<div class="highlight"><pre><span></span><code> <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">SERVER_PROFILE_EXTENSIONS_PARENT=OAUTH</span>
</code></pre></div>
<p>Then set the <code>URL</code> and <code>PATH</code> for the <code>OAUTH</code> profile:</p>
<div class="codehilite"><pre><span></span><code><span class="err">```yaml</span>
<span class="err"> - SERVER_PROFILE_OAUTH_URL=https://github.com/pingidentity/pingidentity-server-profiles.git</span>
<span class="err"> - SERVER_PROFILE_OAUTH_PATH=layered-profiles/oauth/pingfederate</span>
<span class="err">```</span>
</code></pre></div>

<ol>
<li>Set <code>GETTING_STARTED</code> as the <code>OAUTH</code> parent and declare the <code>URL</code> and <code>PATH</code>:</li>
</ol>
<div class="highlight"><pre><span></span><code> <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">SERVER_PROFILE_OAUTH_PARENT=GETTING_STARTED</span>
 <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">SERVER_PROFILE_GETTING_STARTED_URL=https://github.com/pingidentity/pingidentity-server-profiles.git</span>
 <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">SERVER_PROFILE_GETTING_STARTED_PATH=getting-started/pingfederate</span>
</code></pre></div>
<blockquote>
<p>Because the <code>GETTING_STARTED</code> profile is the last profile to add, it won't have a parent.</p>
</blockquote>
<p>Your <code>environment</code> section of the <code>docker-compose.yaml</code> file should look similar to this:</p>
<div class="highlight"><pre><span></span><code><span class="nt">environment</span><span class="p">:</span>
 <span class="c1"># **** SERVER PROFILES BEGIN ****</span>
 <span class="c1"># Server Profile - Product License</span>
 <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">SERVER_PROFILE_URL=https://github.com/pingidentity/pingidentity-server-profiles.git</span>
 <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">SERVER_PROFILE_PATH=layered-profiles/license/pingfederate</span>
 <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">SERVER_PROFILE_PARENT=EXTENSIONS</span>

 <span class="c1"># Server Profile - Extensions</span>
 <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">SERVER_PROFILE_EXTENSIONS_URL=https://github.com/pingidentity/pingidentity-server-profiles.git</span>
 <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">SERVER_PROFILE_EXTENSIONS_PATH=layered-profiles/extensions/pingfederate</span>
 <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">SERVER_PROFILE_EXTENSIONS_PARENT=OAUTH</span>

 <span class="c1"># Server Profile - OAUTH</span>
 <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">SERVER_PROFILE_OAUTH_URL=https://github.com/pingidentity/pingidentity-server-profiles.git</span>
 <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">SERVER_PROFILE_OAUTH_PATH=layered-profiles/oauth/pingfederate</span>
 <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">SERVER_PROFILE_OAUTH_PARENT=GETTING_STARTED</span>

 <span class="c1"># Base Server Profile</span>
 <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">SERVER_PROFILE_GETTING_STARTED_URL=https://github.com/pingidentity/pingidentity-server-profiles.git</span>
 <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">SERVER_PROFILE_GETTING_STARTED_PATH=getting-started/pingfederate</span>
 <span class="c1"># **** SERVER PROFILE END ****</span>
</code></pre></div>
<h2 id="deploy-the-layered-server-profile">Deploy the layered server profile<a class="headerlink" href="#deploy-the-layered-server-profile" title="Permanent link"> ¶</a></h2>
<ol>
<li>Push your profiles and updated <code>docker-compose.yaml</code> file to your GitHub repository.</li>
<li>Deploy the stack with the layered profiles.</li>
</ol>
<p>To view this example in its entirety, including the profile layers and <code>docker-compose.yaml</code> file, see the <a href="https://github.com/pingidentity/pingidentity-server-profiles/tree/master/layered-profiles">pingidentity-server-profiles/layered-profiles</a> directory.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../buildPingFederateProfile/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Build Your Own PingFederate Profile
              </div>
            </div>
          </a>
        
        
          <a href="../profilesSubstitution/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Environment substitution
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.fd16492e.min.js"></script>
      <script src="../assets/javascripts/bundle.7836ba4d.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: ['navigation.tabs', 'instant'],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>